\hypertarget{class_export_manager_1_1_export_manager}{}\section{Export\+Manager.\+Export\+Manager Class Reference}
\label{class_export_manager_1_1_export_manager}\index{ExportManager.ExportManager@{ExportManager.ExportManager}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{class_export_manager_1_1_export_manager_a2ddaa723d56840548afddbaf89cc8b3d}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, str game\+\_\+id, settings)
\begin{DoxyCompactList}\small\item\em Constructor for the \mbox{\hyperlink{class_export_manager_1_1_export_manager}{Export\+Manager}} class. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_export_manager_1_1_export_manager_a29419dccfb0bde71bc77d0ef9b9e9fdd}{export\+From\+Request}} (self, \mbox{\hyperlink{class_request_1_1_request}{Request}} request)
\begin{DoxyCompactList}\small\item\em Public function to use for feature extraction and csv export. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{class_export_manager_1_1_export_manager_a28f129343909f342bf36e8597c774dfe}{\+\_\+get\+And\+Parse\+Data}} (self, \mbox{\hyperlink{class_request_1_1_request}{Request}} request, \mbox{\hyperlink{class_game_table_1_1_game_table}{Game\+Table}} game\+\_\+table)
\begin{DoxyCompactList}\small\item\em Private function containing most of the code to handle processing of db data, and export to files. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_export_manager_1_1_export_manager_a9e7e89443ff0e8c53ca263458d19b436}\label{class_export_manager_1_1_export_manager_a9e7e89443ff0e8c53ca263458d19b436}} 
def {\bfseries \+\_\+add\+To\+Zip} (self, path, zip\+\_\+file, path\+\_\+in\+\_\+zip)
\item 
\mbox{\Hypertarget{class_export_manager_1_1_export_manager_aef9de0260d8e5ffb874013c5d70acb30}\label{class_export_manager_1_1_export_manager_aef9de0260d8e5ffb874013c5d70acb30}} 
int {\bfseries \+\_\+extract\+To\+C\+S\+Vs} (self, str raw\+\_\+csv\+\_\+path, str proc\+\_\+csv\+\_\+path, db\+\_\+settings, \mbox{\hyperlink{classschemas_1_1_schema_1_1_schema}{Schema}} game\+\_\+schema, \mbox{\hyperlink{class_game_table_1_1_game_table}{Game\+Table}} game\+\_\+table, type game\+\_\+extractor)
\item 
\mbox{\Hypertarget{class_export_manager_1_1_export_manager_ae1d703048af64dfe16d7f8189c0e2096}\label{class_export_manager_1_1_export_manager_ae1d703048af64dfe16d7f8189c0e2096}} 
def {\bfseries \+\_\+dump\+To\+S\+QL} (self, str sql\+\_\+dump\+\_\+path, \mbox{\hyperlink{class_game_table_1_1_game_table}{Game\+Table}} game\+\_\+table, db\+\_\+settings)
\item 
def \mbox{\hyperlink{class_export_manager_1_1_export_manager_ad99af90a049579cac2eed0407445b39a}{\+\_\+process\+Row}} (self, typing.\+Tuple row, \mbox{\hyperlink{class_game_table_1_1_game_table}{Game\+Table}} game\+\_\+table, \mbox{\hyperlink{class_raw_manager}{Raw\+Manager}} raw\+\_\+mgr, \mbox{\hyperlink{class_proc_manager}{Proc\+Manager}} proc\+\_\+mgr)
\begin{DoxyCompactList}\small\item\em Private helper function to process a single row of data. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{class_export_manager_1_1_export_manager_a176e2763b0bb0c9628333b0f25697b60}{\+\_\+update\+File\+Export\+List}} (self, str dataset\+\_\+id, str raw\+\_\+csv\+\_\+path, str proc\+\_\+csv\+\_\+path, str sql\+\_\+dump\+\_\+path, \mbox{\hyperlink{class_request_1_1_request}{Request}} request, int num\+\_\+sess)
\begin{DoxyCompactList}\small\item\em Private helper function to update the list of exported files. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_export_manager_1_1_export_manager_a98462fae1506014ad2b80e7508299a9b}\label{class_export_manager_1_1_export_manager_a98462fae1506014ad2b80e7508299a9b}} 
bool {\bfseries \+\_\+backup\+File\+Export\+List} (self)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_export_manager_1_1_export_manager_a8bbf6a14b4746b796f1b0314cd131ff0}\label{class_export_manager_1_1_export_manager_a8bbf6a14b4746b796f1b0314cd131ff0}} 
{\bfseries \+\_\+game\+\_\+id}
\item 
\mbox{\Hypertarget{class_export_manager_1_1_export_manager_a60c871b4e8f2e111dbdf7c8ee3aa59bf}\label{class_export_manager_1_1_export_manager_a60c871b4e8f2e111dbdf7c8ee3aa59bf}} 
{\bfseries \+\_\+settings}
\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_export_manager_1_1_export_manager_a2ddaa723d56840548afddbaf89cc8b3d}\label{class_export_manager_1_1_export_manager_a2ddaa723d56840548afddbaf89cc8b3d}} 
\index{ExportManager.ExportManager@{ExportManager.ExportManager}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!ExportManager.ExportManager@{ExportManager.ExportManager}}
\subsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily def Export\+Manager.\+Export\+Manager.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{str}]{game\+\_\+id,  }\item[{}]{settings }\end{DoxyParamCaption})}



Constructor for the \mbox{\hyperlink{class_export_manager_1_1_export_manager}{Export\+Manager}} class. 

Fairly simple, just saves some data for later use during export. 
\begin{DoxyParams}{Parameters}
{\em game\+\_\+id} & Initial id of game to export (this can be changed, if a \mbox{\hyperlink{class_game_table}{Game\+Table}} with a different id is given, but will generate a warning) \\
\hline
{\em db} & An active database connection \\
\hline
{\em settings} & A dictionary of program settings, some of which are needed for export. \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_export_manager_1_1_export_manager_a28f129343909f342bf36e8597c774dfe}\label{class_export_manager_1_1_export_manager_a28f129343909f342bf36e8597c774dfe}} 
\index{ExportManager.ExportManager@{ExportManager.ExportManager}!\_getAndParseData@{\_getAndParseData}}
\index{\_getAndParseData@{\_getAndParseData}!ExportManager.ExportManager@{ExportManager.ExportManager}}
\subsubsection{\texorpdfstring{\_getAndParseData()}{\_getAndParseData()}}
{\footnotesize\ttfamily def Export\+Manager.\+Export\+Manager.\+\_\+get\+And\+Parse\+Data (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{\mbox{\hyperlink{class_request_1_1_request}{Request}}}]{request,  }\item[{\mbox{\hyperlink{class_game_table_1_1_game_table}{Game\+Table}}}]{game\+\_\+table }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private function containing most of the code to handle processing of db data, and export to files. 


\begin{DoxyParams}{Parameters}
{\em request} & A data structure carrying parameters for feature extraction and export \\
\hline
{\em game\+\_\+table} & A data structure containing information on how the db table assiciated with the given game is structured. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_export_manager_1_1_export_manager_ad99af90a049579cac2eed0407445b39a}\label{class_export_manager_1_1_export_manager_ad99af90a049579cac2eed0407445b39a}} 
\index{ExportManager.ExportManager@{ExportManager.ExportManager}!\_processRow@{\_processRow}}
\index{\_processRow@{\_processRow}!ExportManager.ExportManager@{ExportManager.ExportManager}}
\subsubsection{\texorpdfstring{\_processRow()}{\_processRow()}}
{\footnotesize\ttfamily def Export\+Manager.\+Export\+Manager.\+\_\+process\+Row (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{typing.\+Tuple}]{row,  }\item[{\mbox{\hyperlink{class_game_table_1_1_game_table}{Game\+Table}}}]{game\+\_\+table,  }\item[{\mbox{\hyperlink{class_raw_manager}{Raw\+Manager}}}]{raw\+\_\+mgr,  }\item[{\mbox{\hyperlink{class_proc_manager}{Proc\+Manager}}}]{proc\+\_\+mgr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private helper function to process a single row of data. 

Most of the processing is delegated to Raw and Proc Managers, but this function does a bit of pre-\/processing to parse the event\+\_\+data\+\_\+custom. 
\begin{DoxyParams}{Parameters}
{\em row} & The raw row data from a S\+QL query result. \\
\hline
{\em game\+\_\+table} & A data structure containing information on how the db table assiciated with the given game is structured. @raw\+\_\+mgr An instance of \mbox{\hyperlink{class_raw_manager}{Raw\+Manager}} used to track raw data. @proc\+\_\+mgr An instance of \mbox{\hyperlink{class_proc_manager}{Proc\+Manager}} used to extract and track feature data. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_export_manager_1_1_export_manager_a176e2763b0bb0c9628333b0f25697b60}\label{class_export_manager_1_1_export_manager_a176e2763b0bb0c9628333b0f25697b60}} 
\index{ExportManager.ExportManager@{ExportManager.ExportManager}!\_updateFileExportList@{\_updateFileExportList}}
\index{\_updateFileExportList@{\_updateFileExportList}!ExportManager.ExportManager@{ExportManager.ExportManager}}
\subsubsection{\texorpdfstring{\_updateFileExportList()}{\_updateFileExportList()}}
{\footnotesize\ttfamily def Export\+Manager.\+Export\+Manager.\+\_\+update\+File\+Export\+List (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{str}]{dataset\+\_\+id,  }\item[{str}]{raw\+\_\+csv\+\_\+path,  }\item[{str}]{proc\+\_\+csv\+\_\+path,  }\item[{str}]{sql\+\_\+dump\+\_\+path,  }\item[{\mbox{\hyperlink{class_request_1_1_request}{Request}}}]{request,  }\item[{int}]{num\+\_\+sess }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private helper function to update the list of exported files. 

Given the paths of the exported files, and some other variables for deriving file metadata, this simply updates the J\+S\+ON file to the latest list of files. 
\begin{DoxyParams}{Parameters}
{\em dataset\+\_\+id} & The id used to identify a specific data set, based on game id, and range of dates. \\
\hline
{\em raw\+\_\+csv\+\_\+path} & Path to the newly exported raw csv, including filename \\
\hline
{\em proc\+\_\+csv\+\_\+path} & Path to the newly exported feature csv, including filename \\
\hline
{\em request} & The original request for data export \\
\hline
{\em num\+\_\+sess} & The number of sessions included in the recent export. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_export_manager_1_1_export_manager_a29419dccfb0bde71bc77d0ef9b9e9fdd}\label{class_export_manager_1_1_export_manager_a29419dccfb0bde71bc77d0ef9b9e9fdd}} 
\index{ExportManager.ExportManager@{ExportManager.ExportManager}!exportFromRequest@{exportFromRequest}}
\index{exportFromRequest@{exportFromRequest}!ExportManager.ExportManager@{ExportManager.ExportManager}}
\subsubsection{\texorpdfstring{exportFromRequest()}{exportFromRequest()}}
{\footnotesize\ttfamily def Export\+Manager.\+Export\+Manager.\+export\+From\+Request (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{\mbox{\hyperlink{class_request_1_1_request}{Request}}}]{request }\end{DoxyParamCaption})}



Public function to use for feature extraction and csv export. 

Extracts features and exports raw and processed csv\textquotesingle{}s based on the given request. 
\begin{DoxyParams}{Parameters}
{\em request} & A data structure carrying parameters for feature extraction and export. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
managers/Export\+Manager.\+py\end{DoxyCompactItemize}
