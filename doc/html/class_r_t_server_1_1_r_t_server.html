<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>feature_extraction_to_csv: RTServer.RTServer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">feature_extraction_to_csv
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Tool to extract features from game database, and export to csv.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>RTServer</b></li><li class="navelem"><a class="el" href="class_r_t_server_1_1_r_t_server.html">RTServer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="class_r_t_server_1_1_r_t_server-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RTServer.RTServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to handle API calls for the realtime page.  
 <a href="class_r_t_server_1_1_r_t_server.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a36d42dbd33f9a79872c66c332a6d5591"><td class="memItemLeft" align="right" valign="top">typing.Dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_server_1_1_r_t_server.html#a36d42dbd33f9a79872c66c332a6d5591">getAllActiveSessions</a> (str game_id, bool require_player_id)</td></tr>
<tr class="memdesc:a36d42dbd33f9a79872c66c332a6d5591"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler to retrieve all active sessions for a given game.  <a href="#a36d42dbd33f9a79872c66c332a6d5591">More...</a><br /></td></tr>
<tr class="separator:a36d42dbd33f9a79872c66c332a6d5591"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293c91396d24ffed4891b61337856373"><td class="memItemLeft" align="right" valign="top">typing.Dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_server_1_1_r_t_server.html#a293c91396d24ffed4891b61337856373">getFeaturesBySessID</a> (str sess_id, str game_id, typing.List features=None)</td></tr>
<tr class="memdesc:a293c91396d24ffed4891b61337856373"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler to retrieve features for a given session.  <a href="#a293c91396d24ffed4891b61337856373">More...</a><br /></td></tr>
<tr class="separator:a293c91396d24ffed4891b61337856373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005a0fe014193b09a5e708714f64b5e4"><td class="memItemLeft" align="right" valign="top">typing.Dict[str, object]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_server_1_1_r_t_server.html#a005a0fe014193b09a5e708714f64b5e4">getGameProgress</a> (str sess_id, str game_id)</td></tr>
<tr class="memdesc:a005a0fe014193b09a5e708714f64b5e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to retrieve the game progress in a session.  <a href="#a005a0fe014193b09a5e708714f64b5e4">More...</a><br /></td></tr>
<tr class="separator:a005a0fe014193b09a5e708714f64b5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1154804acf028df8741b5ff5282458c"><td class="memItemLeft" align="right" valign="top">typing.Dict[str, typing.List]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_server_1_1_r_t_server.html#aa1154804acf028df8741b5ff5282458c">getFeatureNamesByGame</a> (str game_id)</td></tr>
<tr class="memdesc:aa1154804acf028df8741b5ff5282458c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler to get a list of all feature names for a given game.  <a href="#aa1154804acf028df8741b5ff5282458c">More...</a><br /></td></tr>
<tr class="separator:aa1154804acf028df8741b5ff5282458c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53ed74b50b616e1db6094a9ae62243f5"><td class="memItemLeft" align="right" valign="top">typing.List&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_server_1_1_r_t_server.html#a53ed74b50b616e1db6094a9ae62243f5">getPredictionNamesByGameLevel</a> (str game_id, int level)</td></tr>
<tr class="memdesc:a53ed74b50b616e1db6094a9ae62243f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler to get a list of all prediction names for a given game level.  <a href="#a53ed74b50b616e1db6094a9ae62243f5">More...</a><br /></td></tr>
<tr class="separator:a53ed74b50b616e1db6094a9ae62243f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4baab4e1403e5201c3e73f590b1e50e9"><td class="memItemLeft" align="right" valign="top"><a id="a4baab4e1403e5201c3e73f590b1e50e9"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>getPredictionsBySessID</b> (str sess_id, str game_id, predictions)</td></tr>
<tr class="separator:a4baab4e1403e5201c3e73f590b1e50e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a3465a37859b43a764b131725087740"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_server_1_1_r_t_server.html#a4a3465a37859b43a764b131725087740">EvaluateLogRegModel</a> (model, feature_data)</td></tr>
<tr class="memdesc:a4a3465a37859b43a764b131725087740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to evaluate a logistic regression model, creating a prediction.  <a href="#a4a3465a37859b43a764b131725087740">More...</a><br /></td></tr>
<tr class="separator:a4a3465a37859b43a764b131725087740"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:afee7379654c01974287933197f16ab6a"><td class="memItemLeft" align="right" valign="top"><a id="afee7379654c01974287933197f16ab6a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>db_settings</b> = settings[&quot;db_config&quot;]</td></tr>
<tr class="separator:afee7379654c01974287933197f16ab6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a996f612769b2cc41a2ecf2beda6a5984"><td class="memItemLeft" align="right" valign="top"><a id="a996f612769b2cc41a2ecf2beda6a5984"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DB_NAME_DATA</b> = db_settings[&quot;DB_NAME_DATA&quot;]</td></tr>
<tr class="separator:a996f612769b2cc41a2ecf2beda6a5984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48b02f533dbb33c511bf3133127b4d5"><td class="memItemLeft" align="right" valign="top"><a id="ac48b02f533dbb33c511bf3133127b4d5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DB_TABLE</b> = db_settings[&quot;table&quot;]</td></tr>
<tr class="separator:ac48b02f533dbb33c511bf3133127b4d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a347320e716f5984ac4595303e0c695"><td class="memItemLeft" align="right" valign="top"><a id="a4a347320e716f5984ac4595303e0c695"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ssh_settings</b> = settings[&quot;ssh_config&quot;]</td></tr>
<tr class="separator:a4a347320e716f5984ac4595303e0c695"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a5f00435013297e6a4aeaa004dc7dabc7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_server_1_1_r_t_server.html#a5f00435013297e6a4aeaa004dc7dabc7">_parseRawToDict</a> (features_raw)</td></tr>
<tr class="memdesc:a5f00435013297e6a4aeaa004dc7dabc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple helper method to take in a raw (string) version of a feature from file, and parse it to a float if the feature is numeric, else maintain it as a string.  <a href="#a5f00435013297e6a4aeaa004dc7dabc7">More...</a><br /></td></tr>
<tr class="separator:a5f00435013297e6a4aeaa004dc7dabc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to handle API calls for the realtime page. </p>
<p>Defines a bunch of static handler functions, one for each valid API call. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a5f00435013297e6a4aeaa004dc7dabc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f00435013297e6a4aeaa004dc7dabc7">&#9670;&nbsp;</a></span>_parseRawToDict()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def RTServer.RTServer._parseRawToDict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>features_raw</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simple helper method to take in a raw (string) version of a feature from file, and parse it to a float if the feature is numeric, else maintain it as a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">features_raw</td><td>A dictionary mapping feature names to raw (string) values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A dictionary mapping feature names to parsed values (i.e. numeric inputs are parsed to floats) </dd></dl>

</div>
</div>
<a id="a4a3465a37859b43a764b131725087740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a3465a37859b43a764b131725087740">&#9670;&nbsp;</a></span>EvaluateLogRegModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> float RTServer.RTServer.EvaluateLogRegModel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>feature_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to evaluate a logistic regression model, creating a prediction. </p>
<p>This is based around the equation for probability of Y=1, denoted as p: p = 1 / (1 + e^-logit(X)), where X is the input data used to predict Y, and logit(X) = b0 + b1*x1 + b2*x2 + ... + bn*xn, where bi are the coefficients. Based on information at <a href="https://www.medcalc.org/manual/logistic_regression.php">https://www.medcalc.org/manual/logistic_regression.php</a> </p>

</div>
</div>
<a id="a36d42dbd33f9a79872c66c332a6d5591"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36d42dbd33f9a79872c66c332a6d5591">&#9670;&nbsp;</a></span>getAllActiveSessions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> typing.Dict RTServer.RTServer.getAllActiveSessions </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>game_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>require_player_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handler to retrieve all active sessions for a given game. </p>
<p>If the require_player_id flag is set to true, only players with a value in the playerID column will be returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game_id</td><td>The ID name of the game whose sessions should be returned. </td></tr>
    <tr><td class="paramname">require_player_id</td><td>A flag to determine whether to filter out sessions lacking a valid playerID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A dictionary mapping session ids to some data about the session. Specifically, we get each session's max completed level, current level, and time since last move. </dd></dl>

</div>
</div>
<a id="aa1154804acf028df8741b5ff5282458c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1154804acf028df8741b5ff5282458c">&#9670;&nbsp;</a></span>getFeatureNamesByGame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> typing.Dict[str, typing.List] RTServer.RTServer.getFeatureNamesByGame </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>game_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handler to get a list of all feature names for a given game. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game_id</td><td>The id for the game being played in the given session. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A dictionary mapping "features" to a list of feature names, or None if an eror occurred when reading the game schema. </dd></dl>

</div>
</div>
<a id="a293c91396d24ffed4891b61337856373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a293c91396d24ffed4891b61337856373">&#9670;&nbsp;</a></span>getFeaturesBySessID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> typing.Dict RTServer.RTServer.getFeaturesBySessID </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>sess_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>game_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typing.List &#160;</td>
          <td class="paramname"><em>features</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handler to retrieve features for a given session. </p>
<p>For now, at least, the game ID must be given as well, in order to load information about the way that data from that game is structured. In theory, we may be able to get the game ID by pulling it from the database, but it's easier just to make it a parameter for the call. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sess_id</td><td>The id number for the session whose features are needed. </td></tr>
    <tr><td class="paramname">game_id</td><td>The id for the game being played in the given session. </td></tr>
    <tr><td class="paramname">features</td><td>An optional list of specific features to be retrieved. By default, all available features are retrieved. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A dictionary mapping feature names to feature values. If a features argument was given, only returns the corresponding features. </dd></dl>

</div>
</div>
<a id="a005a0fe014193b09a5e708714f64b5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a005a0fe014193b09a5e708714f64b5e4">&#9670;&nbsp;</a></span>getGameProgress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> typing.Dict[str, object] RTServer.RTServer.getGameProgress </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>sess_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>game_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to retrieve the game progress in a session. </p>
<p>Specifically, the current level, max level, and current idle time. Other data could be added as needed. </p>

</div>
</div>
<a id="a53ed74b50b616e1db6094a9ae62243f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53ed74b50b616e1db6094a9ae62243f5">&#9670;&nbsp;</a></span>getPredictionNamesByGameLevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> typing.List RTServer.RTServer.getPredictionNamesByGameLevel </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>game_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handler to get a list of all prediction names for a given game level. </p>
<p>This is based on the assumption that models for the game are stored in a file with naming format game_id_models.json. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">game_id</td><td>The id for the game being played in the given session. </td></tr>
    <tr><td class="paramname">level</td><td>The level for which we want a list of models </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list of all prediction names. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>RTServer.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
